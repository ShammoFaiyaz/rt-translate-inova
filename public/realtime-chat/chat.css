body {
    /* background: linear-gradient(180deg, #1a2b4b 0%, #0c1829 100%); */
    background: url(../assets/wp.jpg);
    background-size: cover;
    background-position: center;
    max-height: 100vh;
    color: black;
    font-family: system-ui, -apple-system, sans-serif;
    padding-bottom: 80px; /* Add padding to account for fixed menu */
}

/* Avoid brief flash of wrong UI language before JS applies RTL/EN logic */
html:not(.ui-lang-ready) body {
  visibility: hidden;
}

html.ui-lang-ready body {
  visibility: visible;
}

@media (max-width: 900px), (max-width: 1024px) and (orientation: portrait) {
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: rgba(15, 23, 42, 0.9);
    z-index: 40;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s ease;
  }

  body.menu-open {
    overflow: hidden;
  }

  body.menu-open::before {
    opacity: 1;
    pointer-events: auto;
  }
}

.listening-input {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
}

.message-bubble {
    background: rgba(26, 43, 75, 0.6);
    backdrop-filter: blur(10px);
}

.bot-avatar {
    background: linear-gradient(135deg, #2d4a7c 0%, #1a2b4b 100%);
}

.quote-card {
    background-color: #F5E6D8;
    border-radius: 16px;
}

.bottom-nav {
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
}

.ai-button {
    background: radial-gradient(circle at center, #00bb72 0%, #0b8588 100%);
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
} 

.hide {
    display: none !important;
}

.message-input-container {
    display: flex;
    align-items: center;
    position: absolute;
    bottom: 13vh;
    left: 0;
    right: 0;
    margin: 0 auto;
    max-width: 90%;
    padding: 10px;
    border-radius: 20px;
    background: rgba(16, 14, 14, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.message-input {
    flex-grow: 1;
    resize: none;
    border: none;
    background: transparent;
    color: white;
    font-size: 16px;
    outline: none;
    padding: 10px;
    transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    box-sizing: border-box;
    height: 45px;
    max-height: 200px;
}

.send-button {
    background: none;
    border: none;
    cursor: pointer;
    margin-left: 10px;
    color: white;
    transition: opacity 0.3s;
}

.send-button:hover {
    opacity: 0.8;
}

@keyframes pulse {
    0%, 100% {
        opacity: 0.5;
    }
    50% {
        opacity: 1;
    }
}

.skeleton-loader {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 10px;
    margin-bottom: 10px;
    animation: pulse 1.5s infinite;
}

.skeleton-avatar {
    width: 40px;
    height: 40px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
}

.skeleton-text {
    flex-grow: 1;
    height: 20px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 5px;
}


@keyframes fire {
    0% {
        transform: scale(0.5);
        opacity: 1;
        }
    100% {
        transform: scale(5);
        opacity: 0;
    }
}

.fire-animation {
    animation: fire 4s linear infinite;
}

#bgAnimation {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    object-fit: cover;
    pointer-events: none;
    z-index: -2;
    /* filter: sepia(10%) saturate(300%) brightness(70%) hue-rotate(180deg); */
}

/* Add overlay for the video */
#bgAnimation::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    /* background: linear-gradient(180deg, rgba(26, 43, 75, 0.8) 0%, rgba(12, 24, 41, 0.8) 100%); */
    z-index: 1;
    pointer-events: none;
}

#bgOverlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    /* background: linear-gradient(180deg, rgba(26, 43, 75, 0.8) 0%, rgba(12, 24, 41, 0.8) 100%); */
    pointer-events: none;
    z-index: -1;
}

.user-message {
    position: relative;
    z-index: 1000;
}

.bot-message {
    position: relative;
    z-index: -1;
}

.language-menu {
    position: fixed;
    top: 10%;
    right: -50px;
    transform: translateX(-50%);
    background: rgba(255, 255, 255, 0.9);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    z-index: 100;
    display: none;
}

#langText {
    color: green;
    font-weight: bold;
    margin-top: 40px;
}

.language-menu.show {
    display: block;
}

.language-menu h2 {
    margin-bottom: 10px;
}

.language-menu label {
    display: block;
    margin-top: 10px;
}

.language-menu select {
    width: 100%;
    padding: 5px;
    margin-top: 5px;
}

.powered-by {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 10px;
    font-size: 11px;
    color: #333;
    font-weight: bold;
}

.powered-by-logo {
    width: 35px; /* Adjust the size as needed */
    margin-left: 5px;
    margin-top: -12px;
}

.powered-by-logo-two {
    width: 60px; /* Adjust the size as needed */
    margin-left: 5px;
}

p#subtitleText {
    font-size: 16px !important;
    line-height: 25px;
    padding-left: 20px;
    padding-right: 20px;
    margin-bottom: 20px !important;
}

div#loadingScreen {
    margin-top: -70px;
}

/* ============================
   New Inova realtime UI styles
   ============================ */

.app-body {
  margin: 0;
  min-height: 100vh;
  /* Light background similar to reference screenshot */
  background: #f4f7f9;
  color: #111827;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  display: flex;
  justify-content: center;
}

.app-shell {
  width: 100%;
  max-width: 1200px;
  padding: 16px;
  box-sizing: border-box;
  padding-bottom: 48px;
}

.app-header {
  margin-bottom: 16px;
}

.app-header-overlay {
  display: none;
}

.app-header-inner {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
}

.mobile-header-bar {
  display: none;
}

.mobile-menu-toggle,
.mobile-back-toggle {
  border: none;
  background: transparent;
  padding: 6px 8px;
  border-radius: 999px;
  display: inline-flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
}

.mobile-back-toggle {
  display: none;
}

.mobile-menu-toggle {
  flex-direction: column;
  gap: 3px;
}

.mobile-menu-line {
  width: 18px;
  height: 2px;
  border-radius: 999px;
  background: #ffffff;
  transition: transform 0.2s ease, opacity 0.2s ease;
}

.mobile-header-label {
  font-size: 13px;
  font-weight: 600;
  color: #ffffff;
}

.mobile-back-icon {
  width: 10px;
  height: 10px;
  border-right: 2px solid #ffffff;
  border-bottom: 2px solid #ffffff;
  transform: rotate(135deg); /* simple chevron arrow pointing left */
}

.app-header--open .mobile-menu-line:nth-child(1) {
  transform: translateY(5px) rotate(45deg);
}

.app-header--open .mobile-menu-line:nth-child(2) {
  opacity: 0;
}

.app-header--open .mobile-menu-line:nth-child(3) {
  transform: translateY(-5px) rotate(-45deg);
}

.app-logo {
  /* Make the top GIF/logo even bigger */
  height: 150px;
}

.app-header-left,
.app-header-right {
  display: flex;
  align-items: center;
  gap: 10px;
}

.top-pill {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  border-radius: 999px;
  border: 1px solid #d1d5db;
  /* White background for header pills */
  background: #ffffff;
  font-size: 12px;
  font-weight: 500;
  color: #111827;
}

.top-pill--brand {
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.top-pill--login {
  text-decoration: none;
}

.top-pill--lang {
  direction: rtl;
  /* Match the Ready text accent color */
  background: #0ea5e9;
  border-color: #0ea5e9;
  color: #ffffff;
  /* Centered glow around RTL toggle */
  box-shadow: 0 0 24px rgba(14, 165, 233, 0.55);
}

.top-pill--back {
  font-weight: 500;
  /* Match font size of text inside Mode pill */
  font-size: 11px;
  /* Use same sky blue as "Ready" text */
  background: #0ea5e9;
  border-color: #0ea5e9;
  color: #ffffff;
  /* Centered glow around Back button */
  box-shadow: 0 0 24px rgba(14, 165, 233, 0.55);
}

.back-arrow {
  width: 8px;
  height: 8px;
  border-left: 2px solid #ffffff;
  border-bottom: 2px solid #ffffff;
  transform: rotate(45deg); /* creates a V-like arrow rotated toward the left */
  display: inline-block;
  margin-right: 4px;
}

.top-pill-label {
  text-transform: uppercase;
  letter-spacing: 0.08em;
}

.top-pill-logo {
  height: 16px;
}

.app-header-badge {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  background: rgba(15, 23, 42, 0.9);
  border: 1px solid rgba(148, 163, 184, 0.4);
  color: #e5e7eb;
}

.screen--hidden {
  display: none;
}

.screen--active {
  display: block;
}

.card {
  /* Light card with soft shadow, no dark overlay */
  background: #ffffff;
  border-radius: 24px;
  padding: 24px 20px 20px;
  box-shadow:
    0 24px 60px rgba(15, 23, 42, 0.12),
    0 0 0 1px rgba(148, 163, 184, 0.1);
  border: 1px solid rgba(229, 231, 235, 0.9);
}

.status-fade {
  animation: statusFade 0.4s ease-out;
}

@keyframes statusFade {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.orb-wrapper {
  text-align: center;
  margin-bottom: 24px;
}

.orb {
  position: relative;
  width: 80px;
  height: 80px;
  margin: 0 auto 16px;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.orb-inner {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  /* Default / preparing state: neutral gray */
  background: radial-gradient(circle at 30% 0, #e5e7eb, #9ca3af 55%, #4b5563 100%);
  box-shadow: 0 0 30px rgba(148, 163, 184, 0.7);
}

.orb-ring {
  position: absolute;
  width: 80px;
  height: 80px;
  border-radius: 999px;
  /* Default / preparing state: neutral gray ring */
  border: 1.5px solid rgba(148, 163, 184, 0.9);
  box-shadow: 0 0 40px rgba(148, 163, 184, 0.5);
}

.orb--loading .orb-inner {
  /* Preparing: use same neutral gray as default */
  background: radial-gradient(circle at 30% 0, #e5e7eb, #9ca3af 55%, #4b5563 100%);
  box-shadow: 0 0 30px rgba(148, 163, 184, 0.9);
  animation: orbPulse 1.4s ease-in-out infinite;
}

.orb--ready .orb-inner {
  /* Ready: use the same accent color as the "Ready" text */
  background: radial-gradient(circle at 30% 0, #bae6fd, #0ea5e9 55%, #0284c7 100%);
  box-shadow: 0 0 40px rgba(14, 165, 233, 0.8);
  animation: orbPulse 1.4s ease-in-out infinite;
}

/* Ready state ring: switch from yellow to blue glow */
.orb--ready .orb-ring {
  border-color: rgba(14, 165, 233, 0.85); /* match heading-ready accent */
  box-shadow: 0 0 40px rgba(14, 165, 233, 0.6);
}

.orb--error .orb-inner {
  background: radial-gradient(circle at 30% 0, #fecaca, #f97373 55%, #b91c1c 100%);
  box-shadow: 0 0 30px rgba(248, 113, 113, 0.7);
}

@keyframes orbPulse {
  0%,
  100% {
    transform: scale(0.96);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

.heading {
  font-size: 22px;
  font-weight: 600;
  color: #111827;
  margin: 0 0 6px;
}

.heading-preparing {
  /* Preparing text uses same gray as preparing checkmarks */
  color: #6b7280;
}

.heading-ready {
  /* Sky blue like Inova logo accent */
  color: #0ea5e9;
}

.heading-dots {
  display: inline-block;
  width: 16px;
}

.subheading {
  margin: 0;
  font-size: 14px;
  color: #6b7280;
}

.status-main-row {
  display: flex;
  flex-direction: column;
  gap: 20px;
  margin-top: 20px;
}

@media (min-width: 900px) {
  .status-main-row {
    flex-direction: row;
    align-items: flex-start;
  }
}

.checklist {
  flex: 1.2;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.check-row {
  display: flex;
  gap: 10px;
  align-items: flex-start;
  /* Add a bit more vertical breathing room between rows */
  margin-bottom: 6px;
}

.check-icon {
  width: 24px;
  height: 24px;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
}

.check-icon--pending {
  /* Default pending state in light theme */
  background: #e5e7eb;
  border: 1px solid #d1d5db;
  color: #9ca3af;
}

.check-icon--success {
  /* Default "ready" success state – match Ready text accent */
  background: #e0f2fe;
  border: 1px solid rgba(14, 165, 233, 0.85);
  color: #0ea5e9;
}

.check-icon--error {
  background: rgba(220, 38, 38, 0.15);
  color: #fca5a5;
}

/* While the translator is preparing, use neutral gray checkmarks */
.status-preparing .check-icon--pending,
.status-preparing .check-icon--success {
  background: #e5e7eb;
  border: 1px solid #d1d5db;
  color: #6b7280;
}

.check-text-title {
  font-size: 14px;
  color: #111827;
  font-weight: 500;
}

.check-text-help {
  font-size: 12px;
  color: #6b7280;
}

.assignment-row {
  flex: 1;
  /* Remove gray background card and outline */
  background: transparent;
  border-radius: 0;
  padding: 0;
  border: none;
  display: flex;
  flex-direction: column;
  /* Let children stretch full width; individual selects will right-align themselves */
  align-items: stretch;
  gap: 12px;
}

@media (min-width: 640px) {
  .assignment-row {
    flex-direction: column;
  }
}

.assignment-grid-top,
.assignment-grid-bottom {
  display: grid;
  grid-template-columns: 1fr;
  gap: 12px;
}

@media (min-width: 640px) {
  .assignment-grid-top,
  .assignment-grid-bottom {
    /* Keep a single vertical column on larger screens as well */
    grid-template-columns: 1fr;
  }
}

.assignment-field {
  /* Two-column layout: title on the left, dropdown on the right */
  display: grid;
  grid-template-columns: auto minmax(0, 300px);
  column-gap: 8px;
  align-items: center;
  justify-content: flex-end;
}

.assignment-label {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  /* Use same blue accent as Ready text */
  color: #0ea5e9;
  font-weight: 700; /* Make dropdown titles bold */
  text-align: right;
}

.assignment-select {
  border-radius: 999px;
  border: 1px solid rgba(156, 163, 175, 0.85);
  background: #ffffff;
  color: #111827;
  padding: 6px 12px;
  font-size: 14px;
  /* Slightly reduced horizontal length while keeping readability */
  width: 100%;
  max-width: 300px;
}

.ready-button-wrapper {
  margin-top: 20px;
  display: flex;
  justify-content: center;
}

.btn-primary {
  border-radius: 999px;
  border: none;
  padding: 12px 28px;
  font-size: 15px;
  font-weight: 600;
  /* Inova logo-style gradient: dark blue → light blue */
  background: linear-gradient(to right, #1d4ed8, #0ea5e9);
  /* White label as requested */
  color: #ffffff;
  cursor: pointer;
  /* Centered glow beneath the button */
  box-shadow: 0 0 40px rgba(56, 189, 248, 0.6);
}

.btn-primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  box-shadow: none;
}

.btn-primary--lg {
  min-width: 260px;
}

.app-brand-mobile {
  margin-top: 16px;
  display: flex;
  justify-content: center;
}

.app-brand-card {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  /* Make the Powered by pill larger */
  padding: 10px 20px;
  border-radius: 999px;
  /* White pill background to match header */
  background: #ffffff;
  border: 1px solid #d1d5db;
  text-decoration: none;
}

.app-brand-text {
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  /* Dark text for better contrast on light pill */
  color: #111827;
}

.app-brand-logo {
  height: 20px;
  /* Use original brand colors for the Inova logo */
  filter: none;
}

/* Live screen */

.live-header {
  display: flex;
  justify-content: space-between;
  gap: 16px;
  margin-bottom: 18px;
  /* Align back button and mode pill on the same vertical center */
  align-items: center;
}

@media (max-width: 900px), (max-width: 1024px) and (orientation: portrait) {
  .live-header {
    /* Stack heading block above mode/back column on small screens */
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
  }

  .live-session-meta {
    margin-left: 0;
  }

  #screen-live .live-header .heading {
    text-align: left;
    font-size: 21px;
  }
}

.live-subheading {
  margin: 4px 0 0;
  font-size: 14px;
  color: #6b7280;
  max-width: 520px;
}

.live-session-meta {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 8px;
}

@media (max-width: 900px), (max-width: 1024px) and (orientation: portrait) {
  .live-session-meta {
    /* Mode pill on top, Back pill beneath it */
    flex-direction: column;
    align-items: flex-start;
    gap: 6px;
  }

  /* Place back pill to the right of mode pill */
  #back-to-status {
    order: 2;
    display: inline-flex;
    align-items: center;
    height: 32px;
  }

  .live-session-tag--soft {
    order: 1;
    display: inline-flex;
    align-items: center;
    height: 20px;
    padding: 0 12px;
  }
}

.live-session-tag {
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 11px;
}

.live-session-tag--soft {
  /* Navy blue background instead of black */
  background: #1e3a8a;
  border: 1px solid rgba(30, 64, 175, 0.9);
  color: #e5e7eb;
}

.identity-row-desktop {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 16px;
  margin-bottom: 16px;
}

@media (max-width: 900px), (max-width: 1024px) and (orientation: portrait) {
  .identity-row-desktop {
    grid-template-columns: minmax(0, 1fr);
    display: none;
  }
}

.identity-accordion-mobile {
  display: none;
}

.identity-card {
  background: #f9fafb;
  border-radius: 16px;
  padding: 12px 14px;
  border: 1px solid rgba(209, 213, 219, 0.9);
}

.identity-title-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 6px;
}

.identity-role-chip {
  font-size: 11px;
  padding: 3px 10px;
  border-radius: 999px;
}

.identity-role-chip--officer {
  background: rgba(191, 219, 254, 0.7);
  color: #1d4ed8; /* Dark blue text so 'Officer' pops */
  font-weight: 600;
}

.identity-role-chip--inmate {
  background: rgba(254, 202, 202, 0.8);
  color: #b91c1c; /* Dark red text so 'Inmate' pops */
  font-weight: 600;
}

.identity-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
  color: #111827;
}

.identity-table th,
.identity-table td {
  padding: 4px 6px;
  text-align: left;
  /* Align multi-line rows like Notes neatly */
  vertical-align: top;
}

.identity-avatar-cell {
  width: 56px;
}

.identity-avatar {
  width: 40px;
  height: 40px;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Light avatar background instead of dark disk */
  background: #e5e7eb;
  border: 1px solid #d1d5db;
}

@media (max-width: 900px), (max-width: 1024px) and (orientation: portrait) {
  .identity-accordion-mobile {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 10px;
  }

  .identity-accordion-card {
    background: #f9fafb;
    border-radius: 16px;
    border: 1px solid rgba(209, 213, 219, 0.9);
    overflow: hidden;
  }

  .identity-accordion-header {
    width: 100%;
    /* Slightly taller touch target, supports multi-line summary */
    padding: 6px 14px;
    border: none;
    background: #ffffff;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 13px;
    line-height: 1.2;
    font-weight: 500;
    cursor: pointer;
  }

  .identity-accordion-title {
    color: #111827;
    display: flex;
    flex-direction: column;
  }

  [dir='rtl'] .identity-accordion-title {
    align-items: flex-end;
    text-align: right;
  }

  [dir='ltr'] .identity-accordion-title {
    align-items: flex-start;
    text-align: left;
  }

  .identity-accordion-title-main {
    font-weight: 600;
    color: #111827;
  }

  .identity-accordion-title-meta {
    font-size: 12px;
    color: #6b7280;
  }

  /* When accordion is expanded, hide the summary lines to avoid duplication
     with the full details shown in the body */
  .identity-accordion-card--open .identity-accordion-title-meta {
    display: none;
  }

  .identity-accordion-chevron {
    position: relative;
    width: 18px;
    height: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    /* Hide legacy text arrow while keeping new chevron pseudo-element */
    color: transparent;
    font-size: 0;
  }

  .identity-accordion-chevron::before {
    content: '';
    width: 9px;
    height: 9px;
    border-right: 2px solid #111827;
    border-bottom: 2px solid #111827;
    transform: rotate(45deg); /* points down */
    transition: transform 0.2s ease;
  }

  .identity-accordion-card--open .identity-accordion-chevron::before {
    transform: rotate(-135deg); /* points up */
  }

  .identity-accordion-body {
    /* No vertical padding when collapsed so the whole visible area is header */
    padding: 0 14px;
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transform: translateY(-4px);
    transition: max-height 0.24s ease, opacity 0.24s ease, transform 0.24s ease,
      padding 0.24s ease;
  }

  .identity-accordion-card--open .identity-accordion-body {
    padding: 10px 14px 14px;
    max-height: 800px;
    opacity: 1;
    transform: translateY(0);
  }

  .identity-portrait {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
    margin-bottom: 10px;
  }

  .identity-portrait-avatar {
    width: 88px;
    height: 88px;
    border-radius: 999px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 40px;
    background: #e5e7eb;
  }

  .identity-portrait-chip {
    font-size: 11px;
    padding: 3px 10px;
    border-radius: 999px;
  }

  .identity-details {
    margin: 0;
  }

  .identity-detail-row {
    display: flex;
    justify-content: space-between;
    gap: 8px;
    font-size: 12px;
    padding: 4px 0;
  }

  .identity-detail-row dt {
    font-weight: 500;
    color: #6b7280;
  }

  .identity-detail-row dd {
    margin: 0;
    text-align: right;
    color: #111827;
  }
}

.location-strip {
  margin-top: 4px;
  padding: 8px 12px;
  border-radius: 999px;
  background: #f3f4f6;
  border: 1px solid rgba(209, 213, 219, 0.9);
  display: flex;
  justify-content: space-between;
  gap: 12px;
  font-size: 12px;
  /* Make location text black for stronger emphasis */
  color: #111827;
}

@media (max-width: 900px), (max-width: 1024px) and (orientation: portrait) {
  .location-strip {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
}

.telemetry-row {
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 10px;
  margin: 14px 0;
}

@media (max-width: 900px), (max-width: 1024px) and (orientation: portrait) {
  .telemetry-row {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  /* Slightly larger text across live screen card on mobile/tablet */
  #screen-live {
    font-size: 15px;
  }

  #screen-live .telemetry-label {
    font-size: 12px;
  }

  #screen-live .telemetry-value {
    font-size: 14px;
  }

  #screen-live .subtitle-text {
    font-size: 15px;
  }
}

.telemetry-item {
  border-radius: 12px;
  padding: 10px 12px;
  background: #f9fafb;
  border: 1px solid rgba(209, 213, 219, 0.9);
}

.telemetry-label {
  font-size: 11px;
  text-transform: uppercase;
  color: #e5e7eb;
  letter-spacing: 0.06em;
  font-weight: 600;
}

.telemetry-value {
  display: block;
  margin-top: 4px;
  font-size: 13px;
  color: #ffffff;
  font-weight: 600;
}

.telemetry-value--good {
  color: #ffffff;
}

/* Colored telemetry variants – specific semantic colors */
.telemetry-item--status {
  background: #16a34a; /* green */
  border-color: #16a34a;
}

.telemetry-item--latency {
  background: #f97316; /* orange */
  border-color: #f97316;
}

.telemetry-item--connection {
  background: #2563eb; /* blue */
  border-color: #2563eb;
}

.telemetry-item--langs {
  background: #ef4444; /* red */
  border-color: #ef4444;
}

.telemetry-item--langs .telemetry-value {
  font-weight: 600;
  display: inline;
  white-space: normal;
}

.telemetry-item--langs .telemetry-label {
  display: block;
  margin-bottom: 2px;
}

.subtitle-strip {
  margin-top: 8px;
  /* Slightly tighter padding to reduce vertical height */
  padding: 6px 12px;
  border-radius: 12px;
  background: #f9fafb;
  border: 1px solid rgba(209, 213, 219, 0.9);
  /* Center the subtitle text vertically within the box */
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.subtitle-text {
  margin: 0;
  font-size: 16px;
  color: #111827;
  /* Preserve newlines from JS so backtranslated and translated lines appear on separate rows */
  white-space: pre-line;
  /* Slightly tighter line-height so the two lines sit more visually centered
     between the top and bottom padding of the subtitle strip */
  line-height: 1.2;
}

.conversation-section {
  margin-top: 12px;
}

.conversation-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
}

@media (max-width: 900px), (max-width: 1024px) and (orientation: portrait) {
  .conversation-grid {
    grid-template-columns: minmax(0, 1fr);
  }
}

.conversation-column {
  background: #f9fafb;
  border-radius: 16px;
  border: 1px solid rgba(209, 213, 219, 0.9);
  padding: 10px 12px;
}

.conversation-title {
  font-size: 22px;
  font-weight: 600;
  color: #111827;
  /* Slightly tighter gap to subheading */
  margin: 0 0 2px;
}

.notes-title {
  font-size: 22px;
  font-weight: 600;
  color: #111827;
  margin: 0 0 4px;
}

.conversation-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  /* Slightly tighter gap before subheading */
  margin-bottom: 4px;
}

.conversation-subheading {
  /* Tight gap to title, generous gap below */
  margin: 0 0 16px;
  font-size: 14px;
  color: #6b7280;
}

.notes-subheading {
  /* Extra gap below notes subtext */
  margin: 0 0 16px;
  font-size: 14px;
  color: #6b7280;
}

.conversation-role {
  font-size: 14px;
  font-weight: 500;
}

.conversation-role-detail {
  font-size: 11px;
  color: #9ca3af;
}

.conversation-pill {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 11px;
}

.conversation-pill--officer {
  background: rgba(37, 99, 235, 0.18);
  color: #bfdbfe;
}

.conversation-pill--inmate {
  /* Match the blue family used for the Back pill */
  background: rgba(14, 165, 233, 0.18);
  color: #0ea5e9;
}

.conversation-bubbles {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.conversation-bubbles--right {
  align-items: flex-end;
}

.bubble {
  /* Reduce horizontal length so bubbles don't span full width */
  max-width: 50%;
  /* Default margins; specific alignment is handled per type + direction below */
  margin: 0;
  border-radius: 14px;
  padding: 8px 10px;
  font-size: 13px;
}

/* Add vertical spacing between conversation bubbles */
#conversation-body > .bubble {
  margin-bottom: 6px;
}

.bubble--officer {
  background: #e0f2fe;
  border: 1px solid rgba(59, 130, 246, 0.4);
}

.bubble--inmate {
  /* Use the same blue family as the Back pill */
  background: #e0f2fe;
  border: 1px solid rgba(14, 165, 233, 0.6);
}

/* New variants for clearly separated Input / Output bubbles in the Conversation log */
.bubble--input {
  background: #f3f4f6; /* light gray */
  border: 1px solid #d1d5db;
  color: #111827;
}

.bubble--output {
  /* Reuse the existing blue family for translated text */
  background: #e0f2fe;
  border: 1px solid rgba(14, 165, 233, 0.6);
  color: #0f172a;
}

.bubble-label {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  margin-bottom: 2px;
  color: #6b7280;
}

.bubble-label--input {
  color: #4b5563;
}

.bubble-label--output {
  color: #1d4ed8;
}

/* Alignment rules for bubbles:
   - In LTR UI (English toggle):
       - Human Input bubbles are left-aligned
       - AI Translation bubbles are right-aligned
   - In RTL UI (Arabic toggle), this is reversed. */

[dir="ltr"] .bubble--input {
  margin-right: auto;
  margin-left: 0;
}

[dir="ltr"] .bubble--output {
  margin-left: auto;
  margin-right: 0;
}

[dir="rtl"] .bubble--input {
  margin-left: auto;
  margin-right: 0;
}

[dir="rtl"] .bubble--output {
  margin-right: auto;
  margin-left: 0;
}

.bubble-meta {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  color: #9ca3af;
  margin-bottom: 4px;
}

.bubble-meta--right {
  flex-direction: row-reverse;
}

.bubble-text--primary {
  margin: 0 0 2px;
  font-weight: 500;
}

/* When UI is RTL, keep bubble text content as-is but right-align it
   so it reads more naturally from right to left without changing punctuation */
[dir="rtl"] .bubble-text--primary {
  text-align: right;
}

/* When UI is LTR (English toggle), always left-align bubble text, even if
   the content itself is Arabic. This keeps both Human Input and AI Translation
   anchored on the left in LTR mode. */
[dir="ltr"] .bubble-text--primary {
  text-align: left;
}

.bubble-text--secondary {
  margin: 0;
  color: #6b7280;
}

.bubble-confidence {
  margin-top: 4px;
  font-size: 11px;
  color: #a5b4fc;
}

.mic-bar {
  margin-top: 18px;
  border-radius: 999px;
  padding: 14px 20px;
  /* Light neutral capsule background for live translation bar */
  background: linear-gradient(to right, #e5e7eb, #d1d5db);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #d1d5db;
  box-shadow:
    0 18px 45px rgba(15, 23, 42, 0.15);
}

.language-summary-row {
  margin-top: 12px;
  display: flex;
  justify-content: center;
}

.language-summary-pill {
  max-width: 640px;
  width: 100%;
  padding: 10px 16px;
  border-radius: 999px;
  border: 1px solid #fee2e2;
  background: #fef2f2;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.language-summary-line {
  font-size: 15px;
}

.language-summary-line--input {
  color: #b45309; /* amber-700 */
  font-weight: 600;
}

.language-summary-line--output {
  display: none;
}

[dir='rtl'] .language-summary-pill,
[dir='ltr'] .language-summary-pill {
  text-align: center;
  align-items: center;
}

.mic-bar-inner {
  display: flex;
  align-items: center;
  justify-content: center; /* center mic horizontally */
  width: 100%;
}

.mic-bar-left {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.mic-bar-right,
.mic-hint {
  /* Hide helper text to keep only the mic circle */
  display: none;
}

.mic-button {
  width: 80px;
  height: 80px;
  border-radius: 999px;
  /* No explicit border; rely on glow only */
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Use Ready text accent color for the mic button */
  /* Center the inner highlight so glow appears evenly around the mic */
  background: radial-gradient(circle at 50% 50%, #bae6fd, #0ea5e9 55%, #0284c7 100%);
  box-shadow:
    0 0 40px rgba(14, 165, 233, 0.9);
  cursor: pointer;
}

.mic-icon {
  width: 32px;
  height: 32px;
  /* White mic icon on green button */
  fill: #ffffff;
}

.mic-text {
  /* Hide inline text to match original simple button UI */
  display: none;
}

.mic-text-main {
  font-size: 14px;
  font-weight: 500;
}

.mic-text-status {
  margin-top: 2px;
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: #bbf7d0;
}

.mic-status-dot-small {
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: #22c55e;
  box-shadow: 0 0 12px rgba(34, 197, 94, 0.9);
}

.mic-text-status-dots {
  min-width: 10px;
}

.session-controls {
  margin-top: 14px;
}

.session-notes {
  background: #f9fafb;
  border-radius: 16px;
  border: 1px solid rgba(209, 213, 219, 0.9);
  padding: 12px;
}

.session-notes-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
  margin-bottom: 6px;
}

.session-notes-title {
  font-size: 13px;
  font-weight: 500;
}

.session-quick-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

.session-chip {
  border-radius: 999px;
  border: 1px solid #ef4444;
  background: #ef4444;
  color: #ffffff;
  font-size: 11px;
  padding: 4px 10px;
  cursor: pointer;
}

.session-chip:hover {
  background: #dc2626;
  border-color: #dc2626;
}

.session-btn {
  border-radius: 999px;
  border: none;
  font-size: 11px;
  padding: 5px 12px;
  cursor: pointer;
}

.session-btn--alert {
  background: #f97316;
  color: #0b1120;
}

.session-notes-textarea {
  width: 100%;
  margin-top: 4px;
  box-sizing: border-box;
  border-radius: 12px;
  border: 1px solid rgba(156, 163, 175, 0.85);
  background: #ffffff;
  color: #111827;
  font-size: 13px;
  padding: 8px 10px;
  resize: vertical;
  min-height: 72px;
}

.session-hint {
  margin-top: 4px;
  font-size: 11px;
  color: #6b7280;
}

.session-hint--center {
  text-align: center;
}

/* Mic live status: green orb + centered dots */
.mic-status {
  margin-top: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
}

.mic-status-label-row {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 16px;
  font-weight: 500;
  color: #16a34a;
}

.mic-status-orb {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: #22c55e;
  box-shadow: 0 0 10px rgba(34, 197, 94, 0.9);
}

.mic-status-dots {
  text-align: center;
  font-size: 14px;
}

.hidden {
  display: none !important;
}

.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* ============================================
   Responsive layout tweaks (mobile & tablet)
   NOTE: Desktop/base styles remain unchanged.
   ============================================ */

/* Small tablets & large phones */
@media (max-width: 900px), (max-width: 1024px) and (orientation: portrait) {
  .app-shell {
    padding: 12px;
  }

  .app-header {
    position: relative;
    z-index: 60; /* above dark backdrop */
    padding-top: 8px;
  }

  .mobile-header-bar {
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .mobile-menu-toggle,
  .mobile-back-toggle {
    width: 44px;
    height: 44px;
    padding: 0;
    border-radius: 999px;
    background: #0ea5e9; /* match Ready text accent */
    box-shadow: 0 12px 28px rgba(14, 165, 233, 0.55);
  }

  .mobile-header-label {
    display: none;
  }

  /* Hide in-panel Back pill on mobile/tablet; use header back button instead */
  .top-pill--back {
    display: none !important;
  }

  .app-header-inner {
    display: none;
    position: fixed;
    left: 50%;
    top: 80px;
    transform: translateX(-50%) translateY(-8px);
    max-width: 360px;
    width: calc(100% - 40px);
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
    padding: 16px 16px 18px;
    border-radius: 18px;
    background: #ffffff;
    box-shadow:
      0 24px 60px rgba(15, 23, 42, 0.36),
      0 0 0 1px rgba(148, 163, 184, 0.18);
    z-index: 80; /* above backdrop and header */
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.25s ease, transform 0.25s ease;
  }

  .app-header--open .app-header-inner {
    display: flex;
    opacity: 1;
    transform: translateX(-50%) translateY(0);
    pointer-events: auto;
  }

  .app-header--open + .app-header-overlay {
    display: block;
    position: fixed;
    inset: 0;
    background: rgba(15, 23, 42, 0.6);
    z-index: 40;
  }

  .app-header-left,
  .app-header-right {
    justify-content: center;
  }

  .app-header-center {
    display: flex;
    justify-content: center;
  }

  .app-logo {
    height: 130px;
  }

  /* Larger buttons inside hamburger menu */
  .app-header-inner .top-pill {
    width: 100%;
    justify-content: center;
    padding: 10px 18px;
    font-size: 13px;
  }

  .card {
    /* Match desktop internal spacing; only add outer gap */
    padding: 24px 16px 20px;
    margin-bottom: 32px;
  }

  /* Centered glow for primary CTA on mobile/tablet only */
  .btn-primary {
    box-shadow: 0 0 40px rgba(56, 189, 248, 0.6);
  }

  .status-main-row {
    gap: 16px;
  }

  .live-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }

  .live-session-meta {
    align-items: flex-start;
  }

  .identity-row-desktop {
    gap: 12px;
  }

  .telemetry-row {
    margin: 10px 0;
  }

  .subtitle-strip {
    margin-top: 10px;
  }

  .subtitle-text {
    font-size: 15px;
  }

  #conversation-section .conversation-layout {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  #conversation-section .conversation-panel,
  #conversation-section .notes-panel {
    width: 100%;
  }

  .session-notes {
    margin-top: 8px;
  }
}

/* Phones (narrow viewports) */
@media (max-width: 640px) {
  .app-shell {
    padding: 10px 8px;
  }

  .app-logo {
    height: 110px;
  }

  .top-pill {
    padding: 5px 10px;
    font-size: 11px;
  }

  .app-brand-card {
    padding: 8px 14px;
  }

  .heading {
    font-size: 19px;
    text-align: center;
  }

  .subheading {
    font-size: 13px;
    text-align: center;
  }

  .status-main-row {
    margin-top: 16px;
  }

  .check-text-title {
    font-size: 13px;
  }

  .check-text-help {
    font-size: 11px;
  }

  .assignment-field {
    grid-template-columns: 1fr;
    row-gap: 4px;
  }

  .assignment-label {
    text-align: left;
  }

  .assignment-select {
    max-width: 100%;
  }

  .btn-primary.btn-primary--lg {
    width: 100%;
    min-width: 0;
  }

  .identity-card {
    padding: 10px 10px;
  }

  .identity-table {
    font-size: 11px;
  }

  .identity-table th,
  .identity-table td {
    padding: 3px 4px;
  }

  .identity-avatar {
    width: 32px;
    height: 32px;
  }

  .location-strip {
    gap: 4px;
  }

  .telemetry-item {
    padding: 8px 8px;
  }

  .telemetry-label {
    font-size: 10px;
  }

  .telemetry-value {
    font-size: 13px;
  }

  .conversation-section {
    margin-top: 10px;
  }

  .subtitle-text {
    font-size: 13px;
  }

  .mic-bar {
    padding: 12px 14px;
  }

  .mic-button {
    width: 68px;
    height: 68px;
  }
}